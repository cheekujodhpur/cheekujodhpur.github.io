<html>
        <head>
                <title>Kumar Ayush</title>
                <link rel = "stylesheet" href = "../main.css" />
                <script src="http://code.jquery.com/jquery-git.js"></script>
                <script src = "../main.js"></script>
        </head>
	<body>
		<div id = "pic_y_nome">
                        <a href = "../index.html"><img id = "dp" src = "../images/profile.jpg" /></a>
                	<span class = "nome" id = "nome_title">kumar</span><span class = "nome" id = "nome">AYUSH</span>
		</div>
		<br />
		<br />
		<div style = "width:600px;">
            <h1 style = "color:cadetblue">On good guardening</h1>
            <p>
                This is a subject I have been quietly discarding amongst the things not very important or urgent to be talked about but
                the problem presents itself as far more common than mankind would have it for its greater good. We are talking of bad authentication
                logic leading to serious security vulnerabilities. The <i>lesson</i> in this post is pretty simple to follow, but I will drop
                an experience which will show how small but deep a loophole this logical mistake creates. As you will soon see, I love this vulenrability.
                It has and will keep giving me access to a lot of restricted places, but I am making this cynical attempt to talk about it because 
                I have rarely seen any book or courses mention it. And I am using <i>rarely</i> rather than <i>never</i> because I am not a CS undergrad 
                and <i>maybe</i> some course mentions it, and I don't want those folks blowing me with comments on my ignorance, to which I will have to
                sadly respond, "Then why don't you stop making this mistake!"
                <br />
                Let us get to the point now!
            </p>
            <p>
                Let us make some attempts at writing authentication logic for a system which requires a username/password combination.
                <br /><br />
                "Umm...I don't want to allow the guy, or girl (got you,feminists!) to enter if he enters a bad combo" 
                <pre>
if(username sucks AND password sucks)
    kick_this_bojo();
else
    i_love_you();
                </pre>
                A lot of you will be banging about sanitizing inputs and making sure of data types before matching et cetera, but some of us would see a far 
                more fundamental error here. I would refer you to <a target = "_blank" href = "http://qr.ae/fE5EE">this answer by Adrian Lamo on Quora</a> where he remarks the mistake made here, and how he
                often exploited it. For the really gifted readers, explicitly stating the point (I hate doing that!), don't write systems where logic
                works like [if failure, then no! Else yes!] It doesn't have to do with user/pass combos only. There are a variety of instances this mistake
                can be performed like a maestro. If you do get the point, or already knew it, read on for one of my experiences with it.
                Otherwise, recite at least three times to yourself that you are a Belieber (*wink) if you make this mistake again and <i>then</i> 
                read on for one of my experiences with it. 
            </p>
            <p>
                It was a fine Saturday morning. (always is) My school website had this cool feature where you could post articles authored by you and they
                will be published on the site if they find it good. This was by some logic supposed to encourage creative writing amongst us. Only if I had
                the courage the post all the poems I had written in memories of the flowers I had gardened (I love gardening), I might've been hailed as
                the Top Writer, also <i>if</i> they had such a designation. But after uploading the rather pointless piece of article on 
                <i>I don't remember what</i>, curiousity got over my senses. I opened up Developer Tools to take a look at the upload code. They were doing 
                an offline check of the format I was uploading. The first piece of attack would be to just bypass the offline check, but it wasn't exactly
                working. Till date I am not sure why. I had a beginner's knowledge of programming, and the site was written in ASP which
                was <i>just</i> readable as I was learning PHP at that time. But I had a more powerful weapon with me. I took another sip of my Bournvita
                milk and noticed that they were checking for file format as [if these formats, then disallow; else allow]. Another sip and I noticed that
                the list of disallowed formats had .asp but no .aspx ! I also noticed that all uploaded files go to a particular folder and are renamed
                with an increasing number. My school is big, but no one cares enough to upload anything on a Saturday morning. Thus, I knew where my uploads
                went. I downloaded the page which was doing uploads, removed all checks; size and format, uploaded it as an .aspx! This didn't do much, except
                now I had an upload portal which could upload any file format to the server. The next simplest thing I could scrape off the internet was the
                code to print as raw text any other file on the domain. I uploaded that .aspx file, the server runs it beautifully as its own. I was smart
                enough to go after 'connection.asp' first. I now had their SQL root. A wee bit of extra effort, and I had the full database. I could change
                anyone's marks, but more impressively the site had an end not known to the students which handled the financial transactions towards the staff.
                I was just high at this point. But wait, since I had my own upload portal, I didn't need the stupid renaming and could replace the site's pages
                itself. How about a potrait of Taher Shah instead of the school logo on the home page? It didn't end there. They had cgi enabled. And the server
                was hosted at the back of our computer lab, basically putting it on the same subnet. I tried messing with the systems using bash scripts but it
                didn't work. I didn't know about group permissions at that time. But I already had enough to buy a flower or two for my garden, if you know
                what I mean. My moral values kicked in and I just uploaded a picture of Jack...ahem...Captain Jack Sparrow as an independent link on the domain
                and mailed it to the computer administrator, who also happened to be my C++ teacher. She was adorable the next day. They haven't corrected
                this till date. I use their server space as a storage for "work stuff". Last thing to mention, they did log username and IP for all activity.
                I did have to take care to delete that. The server logs may still help to find me, but I don't consider them smart enough to go there
                unless I actually messed with their finances.
            </p>
            <p>
                I am not sure what to say at this point. I really may need to improve my writing if you didn't get the point yet. If you're looking for a 
                comment textarea below, you may be just in time to realize I am too old school for using a blogging tool which allows that, and too lazy
                to code it. If you're really talkative, drop me an email at <i>cheekujodhpur-at-gmail.com</i>
            </p>
		</div>
	</body>
</html>
